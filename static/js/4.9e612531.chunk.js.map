{"version":3,"sources":["redux/episodes/thunks.js","containers/EpisodeContainer/index.js"],"names":["getEpisodes","_ref","Object","C_Users_Luis_Jim_nez_Desktop_Luis_Jim_nez_React_js_desafios_react_proyect_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Luis_Jim_nez_Desktop_Luis_Jim_nez_React_js_desafios_react_proyect_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","getState","response","error","wrap","_context","prev","next","getEpisodesRequest","axios","get","sent","console","log","getEpisodesSuccess","data","results","t0","Error","getEpisodesFail","toString","stop","_x","_x2","apply","this","arguments","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","_redux_episodes_thunks__WEBPACK_IMPORTED_MODULE_2__","_redux_users__WEBPACK_IMPORTED_MODULE_3__","react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_5__","react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_5___default","react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__","react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6___default","react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_7__","react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_7___default","react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_8__","react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_8___default","react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_9__","react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_9___default","mapDispatchToProps","addFavoriteEpisode","connect","state","_state$episodes","episodes","loading","entities","_state$users","users","user","loggedIn","props","loanding","useEffect","length","episodesNotFavorites","filter","item","favoriteEpisodes","includes","id","episodesFavorites","createElement","className","Fragment","map","episode","index","md","key","bg","text","style","marginBottom","marginTop","Body","Title","concat","name","Text","air_date","Subtitle","onClick","variant"],"mappings":"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","file":"static/js/4.9e612531.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  getEpisodesRequest,\r\n  getEpisodesSuccess,\r\n  getEpisodesFail\r\n} from './index'\r\n\r\nconst baseApiUrl = 'https://rickandmortyapi.com/api/episode/'\r\n\r\nexport const getEpisodes = () => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(getEpisodesRequest())\r\n    try {\r\n      const response = await axios.get(baseApiUrl)\r\n      console.log(response)\r\n      dispatch(\r\n        getEpisodesSuccess(response.data.results)\r\n      )\r\n    } catch (e) {\r\n      const error = new Error(e)\r\n      dispatch(getEpisodesFail(error.toString()))\r\n    }   \r\n  }\r\n}","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getEpisodes } from '../../redux/episodes/thunks'\r\nimport { addFavoriteEpisode } from '../../redux/users'\r\n\r\nimport './style.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst EpisodeContainer = props => {\r\n  const {\r\n    getEpisodes,\r\n    addFavoriteEpisode,\r\n    loanding,\r\n    episodes,\r\n    error,\r\n    user\r\n  } = props\r\n\r\n  useEffect(() => {\r\n    (episodes.length === 0 && getEpisodes())\r\n  }, [])\r\n\r\n  const episodesNotFavorites = episodes.filter(item => {\r\n    return !user.favoriteEpisodes.includes(item.id);\r\n  })\r\n\r\n  const episodesFavorites = episodes.filter(item => {\r\n    return user.favoriteEpisodes.includes(item.id);\r\n  })\r\n\r\n  \r\n  return(\r\n    <div className=\"Episodes\">\r\n      <Container>\r\n        {error}\r\n        {loanding && (\r\n          <div>Loanding</div>\r\n        )}\r\n        {!loanding &&(\r\n          <>\r\n            <Row>\r\n            {episodesFavorites.map((episode, index) =>(\r\n              <Col md={4} key={index}>\r\n                <Card bg=\"primary\" text=\"white\" style={{ marginBottom:'20px', marginTop:'20px'}}>\r\n                  <Card.Body>\r\n                    <Card.Title>{`${episode.id} ${episode.name}`}</Card.Title>\r\n                    <Card.Text>{episode.air_date}</Card.Text>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            ))}\r\n            {episodesNotFavorites.map((episode, index) =>(\r\n              <Col md={4} key={index}>\r\n                <Card style={{ marginBottom:'20px', marginTop:'20px'}}>\r\n                  <Card.Body>\r\n                    <Card.Title>{`${episode.id} ${episode.name}`}</Card.Title>\r\n                    <Card.Subtitle className=\"mb-2 text-muted\">{episode.air_date}</Card.Subtitle>\r\n                    <Button onClick={ () => addFavoriteEpisode(episode.id)} variant=\"primary\">AÃ±adir a Favoritos</Button>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            ))}\r\n            </Row>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const {\r\n    loading,\r\n    entities,\r\n    error\r\n  } = state.episodes\r\n\r\n  const {\r\n    users,\r\n    loggedIn\r\n  } = state.users\r\n  \r\n  return {\r\n    loading,\r\n    episodes: entities,\r\n    error,\r\n    user: users[loggedIn]\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getEpisodes,\r\n  addFavoriteEpisode\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EpisodeContainer);\r\n\r\n"],"sourceRoot":""}