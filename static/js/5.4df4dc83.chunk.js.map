{"version":3,"sources":["redux/episodes/thunks.js","containers/EpisodeCommonContainer/index.js"],"names":["getEpisodes","_ref","Object","C_Users_Luis_Jim_nez_Desktop_Luis_Jim_nez_React_js_desafios_react_proyect_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Luis_Jim_nez_Desktop_Luis_Jim_nez_React_js_desafios_react_proyect_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","getState","response","error","wrap","_context","prev","next","getEpisodesRequest","axios","get","sent","console","log","getEpisodesSuccess","data","results","t0","Error","getEpisodesFail","toString","stop","_x","_x2","apply","this","arguments","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","_redux_episodes_thunks__WEBPACK_IMPORTED_MODULE_2__","_redux_users__WEBPACK_IMPORTED_MODULE_3__","react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_4__","react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_4___default","react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__","react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5___default","react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__","react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6___default","react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_7__","react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_7___default","mapDispatchToProps","addFavoriteEpisode","connect","state","_state$episodes","episodes","loading","entities","_state$users","users","loggedIn","props","loanding","favoritecommon","useEffect","length","_loop","idEpisodeFavorite","idEpisode","nameEpisode","idUser","favoriteEpisodes","includes","push","name","forEach","episode","id","createElement","className","map","index","md","key","bg","text","style","marginBottom","marginTop","Body","Title","Text","user"],"mappings":"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","file":"static/js/5.4df4dc83.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  getEpisodesRequest,\r\n  getEpisodesSuccess,\r\n  getEpisodesFail\r\n} from './index'\r\n\r\nconst baseApiUrl = 'https://rickandmortyapi.com/api/episode/'\r\n\r\nexport const getEpisodes = () => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(getEpisodesRequest())\r\n    try {\r\n      const response = await axios.get(baseApiUrl)\r\n      console.log(response)\r\n      dispatch(\r\n        getEpisodesSuccess(response.data.results)\r\n      )\r\n    } catch (e) {\r\n      const error = new Error(e)\r\n      dispatch(getEpisodesFail(error.toString()))\r\n    }   \r\n  }\r\n}","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { getEpisodes } from '../../redux/episodes/thunks'\r\nimport { addFavoriteEpisode } from '../../redux/users'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Card from 'react-bootstrap/Card'\r\n\r\nconst EpisodeCommonContainer = props => {\r\n  const {\r\n    getEpisodes,\r\n    loanding,\r\n    episodes,\r\n    error,\r\n    users,\r\n    loggedIn\r\n  } = props\r\n\r\n  let favoritecommon = [];\r\n  useEffect(() => {\r\n    (episodes.length === 0 && getEpisodes())\r\n  }, [])\r\n\r\n  for(const idEpisodeFavorite in users[loggedIn].favoriteEpisodes){\r\n    const data = {\r\n      idEpisode: null,\r\n      nameEpisode: '',\r\n      users: []\r\n    }\r\n    data.idEpisode = users[loggedIn].favoriteEpisodes[idEpisodeFavorite]\r\n    for(const idUser in users){\r\n      if(idUser !== loggedIn){\r\n        if(users[idUser].favoriteEpisodes.includes(data.idEpisode)){\r\n          data.users.push(users[idUser].name)\r\n        }\r\n      }\r\n    }\r\n    if(data.users.length > 0){\r\n      episodes.forEach(function(episode) {\r\n        if(episode.id === data.idEpisode){\r\n          data.name = episode.name \r\n        }\r\n      });      \r\n      favoritecommon.push(data)\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className=\"Episodes\">\r\n      <Container>\r\n        {error}\r\n        {loanding && (\r\n          <div>Loanding</div>\r\n        )}\r\n        {!loanding &&(\r\n          <Row>\r\n          {favoritecommon.map((episode, index) =>(\r\n            <Col md={4} key={index}>\r\n              <Card bg=\"primary\" text=\"white\" style={{ marginBottom:'20px', marginTop:'20px'}}>\r\n                <Card.Body>\r\n                  <Card.Title>{episode.name}</Card.Title>\r\n                  <Card.Text>{episode.users.map((user, index) => <li key={index}>{user}</li>) }</Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n          </Row>\r\n        )}\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const {\r\n    loading,\r\n    entities,\r\n    error\r\n  } = state.episodes\r\n\r\n  const {\r\n    users,\r\n    loggedIn\r\n  } = state.users\r\n  \r\n  return {\r\n    loading,\r\n    episodes: entities,\r\n    error,\r\n    users,\r\n    loggedIn\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getEpisodes,\r\n  addFavoriteEpisode\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EpisodeCommonContainer);\r\n\r\n"],"sourceRoot":""}