(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{11:function(e,a,t){"use strict";t.d(a,"i",function(){return c}),t.d(a,"j",function(){return l}),t.d(a,"g",function(){return s}),t.d(a,"h",function(){return u}),t.d(a,"d",function(){return i}),t.d(a,"e",function(){return m}),t.d(a,"c",function(){return d}),t.d(a,"b",function(){return E}),t.d(a,"a",function(){return p});var n=t(20),r=t(19),o=t(2),c=function(){return{type:"LOGIN_REQUEST"}},l=function(e){return{type:"LOGIN_SUCCESS",payload:{userId:e}}},s=function(e){return{type:"LOGIN_ERROR",payload:{error:e}}},u=function(){return{type:"LOGIN_OFF"}},i=function(){return{type:"ADD_USER_REQUEST"}},m=function(e){return{type:"ADD_USER_SUCCESS",payload:{name:e.name,password:e.password,email:e.email,id:e.id}}},d=function(e){return{type:"ADD_USER_ERROR",payload:{error:e}}},E=function(e){return{type:"ADD_FAVORITE_EPISODE",payload:{idEpisode:e}}},p=function(e){return{type:"ADD_FAVORITE_CHARACTERS",payload:{idCharacter:e}}},g={users:{1:{name:"Manolo",password:"manolo123",email:"manolito@gmail.com",favoriteCharacters:[1,2,3],favoriteEpisodes:[2,3,4,5,6]},2:{name:"Ana",password:"123",email:"anita@gmail.com",favoriteCharacters:[11,12,23],favoriteEpisodes:[5,6,3]},3:{name:"Federico",password:"123",email:"federiquito@gmail.com",favoriteCharacters:[1,12,22],favoriteEpisodes:[9,6,3,1]}},userList:["1","2"],loggedIn:localStorage.getItem("userId"),loading:!1};a.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_REQUEST":return Object(o.a)({},e,{loading:!0});case"LOGIN_SUCCESS":return Object(o.a)({},e,{loggedIn:a.payload.userId,loading:!1,error:null});case"LOGIN_ERROR":return Object(o.a)({},e,{error:a.payload.error,loading:!1});case"ADD_USER_REQUEST":return Object(o.a)({},e,{loading:!0});case"ADD_USER_SUCCESS":var t=a.payload,c=t.id,l=t.name,s=t.email,u=t.password;return Object(o.a)({},e,{users:Object(o.a)({},e.users,Object(r.a)({},c,{name:l,email:s,password:u,favoriteCharacters:[],favoriteEpisodes:[]})),userList:[].concat(Object(n.a)(e.userList),[c]),loggedIn:c,loading:!1,error:null});case"ADD_USER_ERROR":return Object(o.a)({},e,{error:a.payload.error,loading:!1});case"ADD_FAVORITE_EPISODE":var i=[a.payload.idEpisode];return Object(o.a)({},e,{users:Object(o.a)({},e.users,Object(r.a)({},e.loggedIn,Object(o.a)({},e.users[e.loggedIn],{favoriteEpisodes:[].concat(Object(n.a)(e.users[e.loggedIn].favoriteEpisodes),i)})))});case"ADD_FAVORITE_CHARACTERS":var m=[a.payload.idCharacter];return Object(o.a)({},e,{users:Object(o.a)({},e.users,Object(r.a)({},e.loggedIn,Object(o.a)({},e.users[e.loggedIn],{favoriteCharacters:[].concat(Object(n.a)(e.users[e.loggedIn].favoriteCharacters),m)})))});case"LOGIN_OFF":return Object(o.a)({},e,{loggedIn:null});default:return e}}},38:function(e,a,t){"use strict";t.d(a,"c",function(){return o}),t.d(a,"d",function(){return c}),t.d(a,"b",function(){return l});var n=t(20),r=t(2),o=function(){return{type:"GET_EPISODES_REQUEST"}},c=function(e){return{type:"GET_EPISODES_SUCCESS",payload:{episodes:e}}},l=function(e){return{type:"GET_EPISODES_FAIL",payload:{error:e}}},s={entities:[],loading:!1};a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_EPISODES_REQUEST":return Object(r.a)({},e,{loanding:!0});case"GET_EPISODES_SUCCESS":return Object(r.a)({},e,{loanding:!1,entities:[].concat(Object(n.a)(e.entities),Object(n.a)(a.payload.episodes))});case"GET_EPISODES_FAIL":return Object(r.a)({},e,{loanding:!1,error:a.payload.error});default:return e}}},47:function(e,a,t){"use strict";t.d(a,"c",function(){return o}),t.d(a,"d",function(){return c}),t.d(a,"b",function(){return l});var n=t(20),r=t(2),o=function(){return{type:"GET_CHARACTERS_REQUEST"}},c=function(e){return{type:"GET_CHARACTERS_SUCCESS",payload:{characters:e}}},l=function(e){return{type:"GET_CHARACTERS_FAIL",payload:{error:e}}},s={entities:[],loading:!1};a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CHARACTERS_REQUEST":return Object(r.a)({},e,{loanding:!0});case"GET_CHARACTERS_SUCCESS":return Object(r.a)({},e,{loanding:!1,entities:[].concat(Object(n.a)(e.entities),Object(n.a)(a.payload.characters))});case"GET_CHARACTERS_FAIL":return Object(r.a)({},e,{loanding:!1,error:a.payload.error});default:return e}}},53:function(e,a,t){e.exports=t(99)},58:function(e,a,t){},99:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(27),c=t.n(o),l=(t(58),t(17)),s=t(32),u=t(13),i=t(24),m=t(11),d={setUserId:m.j},E=Object(u.b)(function(e){return{loggedIn:e.users.loggedIn}},d)(function(e){var a=e.loggedIn,t=e.component,o=e.setUserId,c=Object(s.a)(e,["loggedIn","component","setUserId"]),l=localStorage.getItem("userId");return Object(n.useEffect)(function(){l&&o(l)},[]),r.a.createElement(i.b,Object.assign({},c,{render:function(e){return a||l?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/project-react/login"})}}))}),p={setUserId:m.j},g=Object(u.b)(function(e){return{loggedIn:e.users.loggedIn}},p)(function(e){var a=e.loggedIn,t=e.component,o=e.setUserId,c=Object(s.a)(e,["loggedIn","component","setUserId"]),l=localStorage.getItem("userId");return Object(n.useEffect)(function(){l&&!a&&o(l)},[]),r.a.createElement(i.b,Object.assign({},c,{render:function(e){return a||l?r.a.createElement(i.a,{to:"/project-react/"}):r.a.createElement(t,e)}}))}),f=t(68),b={closeSesion:function(){return function(e,a){localStorage.clear(),e(Object(m.h)())}}},v=Object(u.b)(function(e){var a=e.users,t=a.loggedIn;return{name:a.users[t].name}},b)(function(e){var a=e.name,t=e.closeSesion;return console.log(a),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(l.c,{exact:!0,to:"/project-react/",className:"nav-item nav-link"},"Episodios"),r.a.createElement(l.c,{exact:!0,to:"/project-react/characters/",className:"nav-item nav-link"},"Personajes"),r.a.createElement(l.c,{exact:!0,to:"/project-react/episodecommon/",className:"nav-item nav-link"},"Episodios en comun"))),r.a.createElement("span",{className:"navbar-text"},a),r.a.createElement("button",{onClick:t,className:"btn btn-primary btn-sm"},"Cerrar Sesion")))}),O=t(16),j=t.n(O),S=Object(n.lazy)(function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,135))}),I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement(j.a,null,r.a.createElement("h1",null,"Loading\u2026"))},r.a.createElement(S,null)))},y=Object(n.lazy)(function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,137))}),C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement(j.a,null,r.a.createElement("h1",null,"Loading\u2026"))},r.a.createElement(y,null)))},_=t(19),h=t(2),R=t(33),w=t(18),A=t.n(w),T=t(21),U=t.n(T),D=t(4),N=t.n(D),G=t(30),L=t.n(G),k=t(50),F=t.n(k),x={login:function(e,a){return function(t,n){t(Object(m.i)());var r=function(e,a,t){var n=t.users,r=n.users;return n.userList.find(function(t){return r[t].email===e&&r[t].password===a})}(e,a,n());r?(localStorage.setItem("userId",r),t(Object(m.j)(r))):t(Object(m.g)("Password o email incorrecto"))}}},P=Object(u.b)(function(e){var a=e.users;return{loading:a.loading,error:a.error}},x)(function(e){var a=e.login,t=e.error,o=(e.loading,Object(n.useState)({email:"",password:"",show:!0})),c=Object(R.a)(o,2),s=c[0],u=c[1],i=function(e){var a=e.target,t=a.name,n=a.value;u(Object(h.a)({},s,Object(_.a)({},t,n)))};return r.a.createElement(j.a,null,r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement("h2",null,"Inicio de Sesion")),t&&r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{md:4},r.a.createElement(F.a,{variant:"danger"},t))),r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{md:4},r.a.createElement(N.a,{onSubmit:function(e){e.preventDefault(),a(s.email,s.password)}},r.a.createElement(N.a.Group,null,r.a.createElement(N.a.Label,null,"Email"),r.a.createElement(N.a.Control,{type:"email",name:"email",value:s[""],onChange:i})),r.a.createElement(N.a.Group,null,r.a.createElement(N.a.Label,null,"Password"),r.a.createElement(N.a.Control,{type:"password",name:"password",value:s[""],onChange:i})),r.a.createElement(N.a.Group,null,r.a.createElement(l.b,{to:"/register"},"Registrarse")),r.a.createElement(L.a,{variant:"primary",type:"submit"},"Iniciar Sesion")))))}),H=function(){return r.a.createElement(P,null)},Q={addUser:function(e){var a=e.email,t=e.password,n=e.name;return function(e,r){e(Object(m.d)());var o=function(e){var a=e.email,t=(e.password,e.name,e.state.users),n=t.users,r={};return t.userList.some(function(e){return n[e].email===a})?r.error="Ya existe este usuario.":r.newId=f(),r}({email:a,password:t,name:n,state:r()}),c=o.error,l=o.newId;e(c?Object(m.c)(c):Object(m.e)({id:l,email:a,name:n,password:t}))}}},M=Object(u.b)(function(e){var a=e.users;return{loading:a.loading,error:a.error}},Q)(function(e){e.loading;var a=e.addUser,t=(e.error,Object(n.useState)({name:"",password:"",email:""})),o=Object(R.a)(t,2),c=o[0],l=o[1],s=function(e){var a=e.target,t=a.name,n=a.value;l(Object(h.a)({},c,Object(_.a)({},t,n)))};return r.a.createElement(j.a,null,r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement("h2",null,"Registro de Usuario")),r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{md:6},r.a.createElement(N.a,{onSubmit:function(e){e.preventDefault(),a(c)}},r.a.createElement(N.a.Group,{as:A.a},r.a.createElement(N.a.Label,{column:!0,sm:"2"},"Usuario"),r.a.createElement(U.a,{sm:"10"},r.a.createElement(N.a.Control,{type:"text",name:"name",value:c.name,onChange:s}))),r.a.createElement(N.a.Group,{as:A.a},r.a.createElement(N.a.Label,{column:!0,sm:"2"},"Email"),r.a.createElement(U.a,{sm:"10"},r.a.createElement(N.a.Control,{type:"email",name:"email",value:c.email,onChange:s}))),r.a.createElement(N.a.Group,{as:A.a},r.a.createElement(N.a.Label,{column:!0,sm:"2"},"Password"),r.a.createElement(U.a,{sm:"10"},r.a.createElement(N.a.Control,{type:"password",name:"password",value:c.password,onChange:s}))),r.a.createElement(N.a.Group,{className:"justify-content-md-center"},r.a.createElement(L.a,{className:"mx-auto d-block",variant:"primary",type:"submit"},"Registrarse"))))))}),V=function(){return r.a.createElement(M,null)},z=Object(n.lazy)(function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,136))}),B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement(j.a,null,r.a.createElement("h1",null,"Loading\u2026"))},r.a.createElement(z,null)))},J=function(){return r.a.createElement(l.a,null,r.a.createElement(g,{exact:!0,path:"/project-react/register",component:V}),r.a.createElement(g,{exact:!0,path:"/project-react/login",component:H}),r.a.createElement(E,{exact:!0,path:"/project-react/",component:I}),r.a.createElement(E,{exact:!0,path:"/project-react/characters/",component:C}),r.a.createElement(E,{exact:!0,path:"/project-react/episodecommon/",component:B}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=t(23),q=t(38),Y=t(47),$=Object(W.c)({episodes:q.a,characters:Y.a,users:m.f}),K=function(e){return function(a){return function(t){console.group(t.type),console.info("Se est\xe1 ejecutando la acci\xf3n: ",t),console.log("El state viejo de la store: ",e.getState());var n=a(t);return console.log("El nuevo state de la store: ",e.getState()),console.groupEnd(),n}}},X=t(51),Z=Object(W.d)($,Object(W.a)(X.a,K));c.a.render(r.a.createElement(function(){return r.a.createElement(u.a,{store:Z},r.a.createElement(J,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[53,2,3]]]);
//# sourceMappingURL=main.fc320603.chunk.js.map